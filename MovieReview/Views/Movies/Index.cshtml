@model IEnumerable<DataAccess.Entities.Movie>
    
@{
	string message;
	string color;
}
@if (ViewBag.Message != null)
{
	message = ViewBag.Message.ToString();
	color = "success";
	if (message.EndsWith("!"))
	{
		color = "danger";
	}
	<p class="text-@color">
		@message
	</p>
}
@if (TempData["Message"] != null)
{
	message = TempData["Message"].ToString();
	color = "success";
	if (message.EndsWith("!"))
	{
		color = "danger";
	}
	<p class="text-@color">
		@message
	</p>
}
    
@{
    ViewData["Title"] = "Index";
}

<h1>@ViewData["Title"]</h1>

@if (Model != null && Model.Count() > 0)
{
    <p>
        <a asp-action="Create">Create New</a>
    </p>
    <div style="overflow-y: auto; height: 250px; border-style: solid; border-width: 1px;">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>
                        <a href="#" class="orderexpressionlink">
                            @Html.DisplayNameFor(model => model.Title)
                        </a>
                    </th>
                    <th>
                        <a href="#" class="orderexpressionlink">
                            @Html.DisplayNameFor(model => model.Year)
                        </a>
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Director)
                    </th>
                    <th>
                        <a href="#" class="orderexpressionlink">
                            @Html.DisplayNameFor(model => model.IsActive)
                        </a>
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
		        @foreach (var item in Model)
                {
				    <tr>
					    <td>
						    @Html.DisplayFor(modelItem => item.Title)
					    </td>
					    <td>
						    @Html.DisplayFor(modelItem => item.Year)
					    </td>
					    <td>
						    @Html.DisplayFor(modelItem => item.Director.DirectorFirstName)
					    </td>
					    <td>
						    @Html.DisplayFor(modelItem => item.IsActive)
					    </td>
					    <td>
						    <a asp-action="Details" asp-route-id="@item.Id">Details</a>&nbsp;|&nbsp;
						    <a asp-action="Edit" asp-route-id="@item.Id">Edit</a>&nbsp;|&nbsp;
						    <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
					    </td>
				    </tr>
		        }
            </tbody>
        </table>
    </div>
}


